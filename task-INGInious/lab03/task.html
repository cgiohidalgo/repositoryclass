<ul><li>accessible: False</li><li>author: </li><li>context: .. raw:: html

    &lt;style&gt; .help {color:#808000;} &lt;/style&gt;

.. role:: help

.. class:: text-justify

**Objetivos de aprendizaje**

• Biblioteca estándar
• Relación “contiene”
• Refactorizar


.. class:: text-justify

**Enunciado**

Hay un tren con 6 vagones en una estación. En los vagones 2 y 4 se ha declarado una alarma por coronavirus. Necesitamos mover esos vagones al final del tren para aislarlos del resto. **El objetivo es** que queden en este orden antes de comenzar el viaje: 1,3,5,6,2,4. Por suerte, la estación posee, además de la vía
principal, dos ramales (a la izquierda y a la derecha) suficientemente largos para hacer maniobras. El tren puede moverse hacia adelante y hacia atrás, y cada vez que un vagón llegue a la intersección se puede separar del resto y decidir por cuál vía se mueve. La situación inicial es ésta:

.. raw:: html

   &lt;p align=&quot;center&quot;&gt;&lt;img width=&quot;450&quot; src=&quot;https://i.postimg.cc/BvDPFf4j/tren1.jpg&quot; alt=&quot;ecuacion&quot;&gt;&lt;br/&gt;&lt;br/&gt;
   Figura No. 1: Situación inicial
   &lt;/p&gt;

Una situación intermedia posible, si retrocedemos una vez por la derecha y luego dos veces por la izquierda, es:

.. raw:: html

   &lt;p align=&quot;center&quot;&gt;&lt;img width=&quot;450&quot; src=&quot;https://i.postimg.cc/KvH1s8YK/tren2.jpg&quot; alt=&quot;ecuacion&quot;&gt;&lt;br/&gt;&lt;br/&gt;
   Figura No. 2: Situación intermedia posible
   &lt;/p&gt;


Y la situación final debe ser esta:

.. raw:: html

   &lt;p align=&quot;center&quot;&gt;&lt;img width=&quot;450&quot; src=&quot;https://i.postimg.cc/MTqHjc9L/tren3.jpg&quot; alt=&quot;ecuacion&quot;&gt;&lt;br/&gt;&lt;br/&gt;
   Figura No. 3: Situación final
   &lt;/p&gt;

.. class:: text-justify

**Requerimientos**

• El programa principal se lo doy hecho (ver abajo). **No lo pueden modificar.**
• Escriba la clase Vagon y la clase Via.
• Debe haber 6 objetos vagón y 3 objetos vía.
• El vagón solo debe tener dos atributos internos, que son su número y si transporta enfermos o no.
• Las vías conocen a los vagones y, como la relación es temporal, se pide que la clase Via tenga un vector de punteros a Vagon. Recuerde que la clase vector tiene 3 órdenes muy útiles para esta tarea:
    • push_back() para introducir un vagón en la vía
    • back() para averiguar el último vagón de la vía
    • pop_back() para que elimine el último vagón de la vía.
• Trabaje con el grupo del proyecto.
• Unos días después de entregar este trabajo, cada grupo tendrá que evaluar el código de otro grupo que yo le voy a suministrar, en un replit (por medio del campus virtual) donde pueden hacer mejoras al código del otro grupo y escribirlas en el archivo main(). Hacer una buena evaluación y mejoras influye un 10% en la nota del grupo evaluador (no influye en la nota del grupo evaluado).


.. code-block:: c++

    /*
    Archivo: main.cpp
    Autor: Victor Bucheli
    Fecha creación: 2022-02-21
    Fecha última modificación: 2022-02-21
    Licencia: GNU-GPL
    */

    /* HISTORIA: hay un tren con 6 vagones numerados consecutivamente de izquierda a derecha, del 1 al 6. En los vagones 2 y 4 hay personas enfermas que conviene transportarlas pero aisladas de las demás. Para ello, vamos a mover estos vagones al final del tren. Por suerte, en la estación hay dos ramales (uno hacia la izquierda y otro hacia la derecha) que nos van a ayudar a hacer este movimiento de vagones.
    */

    #include &quot;Via.h&quot;
    #include &quot;Vagon.h&quot;
    #include &lt;iostream&gt;
    using namespace std;


    int main()
    {
      Via viaPrincipal;
      Via ramalIzquierdo;
      Via ramalDerecho;

      // Situación inicial:
      viaPrincipal.introducirVagon(new Vagon(1, false));  // TOMA PROPIEDAD
      viaPrincipal.introducirVagon(new Vagon(2, true));  // TOMA PROPIEDAD
      viaPrincipal.introducirVagon(new Vagon(3, false));  // TOMA PROPIEDAD
      viaPrincipal.introducirVagon(new Vagon(4, true));  // TOMA PROPIEDAD
      viaPrincipal.introducirVagon(new Vagon(5, false));  // TOMA PROPIEDAD
      viaPrincipal.introducirVagon(new Vagon(6, false));  // TOMA PROPIEDAD
      cout &lt;&lt; &quot;Al inicio: &quot; &lt;&lt; viaPrincipal.estadoActual() &lt;&lt; endl;

      //Movimientos para llegar a la solución:
      viaPrincipal.retrocederPor(ramalIzquierdo);  // LA VIA PRINCIPAL CEDE PROPIEDAD DEL VAGON A LA OTRA VIA
      viaPrincipal.retrocederPor(ramalIzquierdo);  // LA VIA PRINCIPAL CEDE PROPIEDAD DEL VAGON A LA OTRA VIA
      viaPrincipal.retrocederPor(ramalDerecho);  // LA VIA PRINCIPAL CEDE PROPIEDAD DEL VAGON A LA OTRA VIA
      viaPrincipal.retrocederPor(ramalIzquierdo);  // LA VIA PRINCIPAL CEDE PROPIEDAD DEL VAGON A LA OTRA VIA
      viaPrincipal.retrocederPor(ramalDerecho);  // LA VIA PRINCIPAL CEDE PROPIEDAD DEL VAGON A LA OTRA VIA
      viaPrincipal.avanzarDesde(ramalIzquierdo);  // LA VIA PRINCIPAL TOMA PROPIEDAD DEL VAGON QUE ME CEDE LA OTRA VIA
      viaPrincipal.avanzarDesde(ramalIzquierdo);  // LA VIA PRINCIPAL TOMA PROPIEDAD DEL VAGON QUE ME CEDE LA OTRA VIA
      viaPrincipal.avanzarDesde(ramalIzquierdo);  // LA VIA PRINCIPAL TOMA PROPIEDAD DEL VAGON QUE ME CEDE LA OTRA VIA
      viaPrincipal.avanzarDesde(ramalIzquierdo);  // LA VIA PRINCIPAL TOMA PROPIEDAD DEL VAGON QUE ME CEDE LA OTRA VIA
      viaPrincipal.avanzarDesde(ramalDerecho);  // LA VIA PRINCIPAL TOMA PROPIEDAD DEL VAGON QUE ME CEDE LA OTRA VIA
      viaPrincipal.avanzarDesde(ramalDerecho);  // LA VIA PRINCIPAL TOMA PROPIEDAD DEL VAGON QUE ME CEDE LA OTRA VIA

      // Imprimir la solución:
      viaPrincipal.estadoActual();
      cout &lt;&lt; &quot;Al final:  &quot; &lt;&lt; viaPrincipal.estadoActual() &lt;&lt; endl;
      // cout &lt;&lt; &quot;Izquierdo:  &quot; &lt;&lt; ramalIzquierdo.estadoActual() &lt;&lt; endl;
      // cout &lt;&lt; &quot;Derecho:  &quot; &lt;&lt; ramalDerecho.estadoActual() &lt;&lt; endl;
      return 0;
    }

.. class:: text-justify




**¿Qué se evalua?**

.. raw:: html

    &lt;ul&gt;
    &lt;li&gt;&lt;strong&gt;REQUERIMIENTOS (20%):&amp;nbsp;&lt;/strong&gt;
    &lt;li&gt;&lt;strong&gt;ESTILO (20%):&amp;nbsp;&lt;/strong&gt;
    &lt;li&gt;&lt;strong&gt;PROGRAMACIÓN (30%):&amp;nbsp;&lt;/strong&gt;
    &lt;li&gt;&lt;strong&gt;COMPILACIÓN (10%):&amp;nbsp;&lt;/strong&gt;
    &lt;li&gt;&lt;strong&gt;EJECUCIÓN (10%):&amp;nbsp;&lt;/strong&gt;
    &lt;li&gt;&lt;strong&gt;EVALUACIÓN DE PARES (10%):&amp;nbsp;&lt;/strong&gt;

    &lt;/ul&gt;


|

**Casos de prueba**
-------------------


.. container:: row

    .. container:: col-md-6 text-justify

        *Entradas*

        ::

            para este ejercicio
            no hay datos
            de entrada

    .. container:: col-md-6 text-justify

        *Salidas*

        ::

            Al inicio: | 1 | 2 | 3 | 4 | 5 | 6 |
            Al final:  | 1 | 3 | 5 | 6 | 2 | 4 |


|

.. raw:: html

    &lt;strong&gt;Nota 1: &lt;/strong&gt; &lt;p&gt;&lt;em&gt;&lt;span style=&quot;color: #800000;&quot;&gt;para ayudarle a visualizar todo correctamente, piense que el punto de intersección de las vías es el final de cada vía (el “back”).&lt;/span&gt;&lt;/em&gt;&lt;/p&gt;

    &lt;strong&gt;Nota 2: &lt;/strong&gt; &lt;p&gt;&lt;em&gt;&lt;span style=&quot;color: #800000;&quot;&gt;no olvide escribir el destructor de la clase Via.&lt;/span&gt;&lt;/em&gt;&lt;/p&gt;

    &lt;strong&gt;Nota 3: &lt;/strong&gt; &lt;p&gt;&lt;em&gt;&lt;span style=&quot;color: #800000;&quot;&gt;si algo funciona mal, no intente resolverlo modificando el main. Piense, más bien, cómo hacer que su código sea robusto.&lt;/span&gt;&lt;/em&gt;&lt;/p&gt;
</li><li>environment: multiple_languages</li><li>evaluate: best</li><li>generate_grader: True</li><li>grader_diff_context_lines: 3</li><li>grader_diff_max_lines: 100</li><li>grader_problem_id: lab03</li><li>grader_test_cases: <ol><li><ul><li>weight: 1.0</li><li>input_file: 1.in</li><li>diff_shown: True</li><li>output_file: 1.out</li></ul></li></ol></li><li>groups: False</li><li>input_random: 0</li><li>limits: <ul><li>output: 2</li><li>time: 30</li><li>memory: 100</li></ul></li><li>name: Laboratorio 3</li><li>network_grading: False</li><li>order: 22</li><li>problems: <ul><li>lab03: <ul><li>type: code_file_multiple_languages</li><li>header: </li><li>allowed_exts: <ol><li>.zip</li></ol></li><li>name: </li><li>languages: <ul><li>cpp: cpp</li></ul></li></ul></li></ul></li><li>stored_submissions: 0</li><li>submission_limit: <ul><li>amount: -1</li><li>period: -1</li></ul></li><li>tags: <ul></ul></li><li>treat_non_zero_as_runtime_error: False</li><li>vhdl_entity: </li><li>weight: 1.0</li></ul>